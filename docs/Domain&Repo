
======================================================================
ISFCE â€“ PROJET DISPENSES 25â€“26
DOCUMENT DE RÃ‰FÃ‰RENCE (Ã€ COLLER DANS WORD â€“ METTRE LA POLICE Ã€ 8 PT)
======================================================================

SECTION : Domain
----------------------------------------------------------------------

UEIsfce
----------------------------------------------------------------------

Lâ€™idÃ©e gÃ©nÃ©rale

Cette classe, câ€™est la carte dâ€™identitÃ© dâ€™une UE de lâ€™ISFCE (une UnitÃ© dâ€™Enseignement). Elle dÃ©crit trois infos de base quâ€™on veut stocker proprement dans la base de donnÃ©es :

un code court (ex: IPDB),

un libellÃ© (le nom de lâ€™UE),

le nombre dâ€™ECTS (les crÃ©dits).

Ligne par ligne, Ã  quoi Ã§a sert

public class UEIsfce extends BaseEntity { â€¦ }
On dÃ©finit le modÃ¨le â€œUEIsfceâ€. Il hÃ©rite de BaseEntity, qui sert en gÃ©nÃ©ral Ã  centraliser des trucs communs (par ex. un identifiant, des dates de crÃ©ation/mise Ã  jour). ConcrÃ¨tement : ta UE aura automatiquement un id, des champs dâ€™audit, etc., sans que tu doives les rÃ©pÃ©ter partout.

Les annotations â€œLombokâ€ en haut (@Getter @Setter @ToString @NoArgsConstructor @AllArgsConstructor @Builder)
Ce sont des raccourcis pour Ã©viter dâ€™Ã©crire du code rÃ©pÃ©titif :

@Getter/@Setter : gÃ©nÃ¨re les mÃ©thodes pour lire/modifier les champs.

@ToString : pratique pour afficher lâ€™objet en texte (utile pour les logs).

@NoArgsConstructor / @AllArgsConstructor : crÃ©e un constructeur vide et un constructeur â€œcompletâ€.

@Builder : te permet de construire lâ€™objet de faÃ§on fluide (style â€œbriques LEGOâ€), ex. UEIsfce.builder().code("IPDB").libelle("Bases de donnÃ©es").ects(5).build().

@Entity @Table(name = "ue_isfce")
Ã‡a dit juste : â€œCette classe est enregistrÃ©e dans la base de donnÃ©es, dans une table appelÃ©e ue_isfce.â€
Donc chaque UEIsfce = une ligne dans cette table.

private String code; avec @NotBlank et @Column(nullable = false, unique = true, length = 16)

code est obligatoire (pas vide),

unique (deux UE ne peuvent pas partager le mÃªme code, pour Ã©viter les confusions),

longueur max 16 (on se met une limite simple pour garder des codes courts et propres).
En clair : on sanctuarise le code comme identifiant humain de lâ€™UE (ex: IPDB).

private String libelle; avec @NotBlank et @Column(nullable = false)
Le nom de lâ€™UE (ex: â€œIntroduction aux bases de donnÃ©esâ€).
LÃ  aussi obligatoire : pas dâ€™UE sans nom.

private int ects; avec @Min(1) et @Column(nullable = false)
Le nombre de crÃ©dits ECTS, obligatoire et au moins 1.
Pas de cours Ã  0 crÃ©dit : câ€™est du bon sens mÃ©tier, et on transforme ce bon sens en rÃ¨gle automatique.

Pourquoi ces rÃ¨gles sont utiles

DonnÃ©es propres : on Ã©vite les lignes vides, les doublons, les codes trop longs.

MÃ©tiers respectÃ©s : les ECTS existent et sont positifs (Ã§a reflÃ¨te la rÃ©alitÃ© de lâ€™Ã©cole).

Recherche et correspondance : le code unique aide Ã  faire les liens avec les demandes de dispense (quand un Ã©tudiant dÃ©clare un cours dâ€™une autre Ã©cole, on cherche la bonne UE ISFCE Ã  comparer).

Comment cette classe sâ€™insÃ¨re dans lâ€™appli

Quand un Ã©tudiant consulte le catalogue : on liste des UEIsfce (code, nom, ECTS).

Quand il dÃ©pose une demande de dispense : on compare ses cours Ã  nos UEIsfce pour voir si Ã§a colle en contenu et en ECTS.

Quand la direction/le prof traite : ils sâ€™appuient sur ces mÃªmes infos (et dâ€™autres documents) pour valider/refuser la dispense et attribuer la note si besoin.

Quand le secrÃ©tariat consulte : il retrouve les UE validÃ©es pour lâ€™inscription.

En rÃ©sumÃ©

Câ€™est le modÃ¨le â€œUE ISFCEâ€ : code (unique), libellÃ©, ECTS.

Il est persistÃ© en base (table ue_isfce).

Il impose des rÃ¨gles simples (obligatoire, unique, ECTS â‰¥ 1) pour sÃ©curiser la qualitÃ© des donnÃ©es.

Il sert de brique centrale dans tous les Ã©crans et processus qui manipulent les UE (catalogue, matching de dispenses, dÃ©cisions).

RÃ©fÃ©rence contexte projet (UE, codes uniques, ECTS)


----------------------------------------------------------------------

ExemptionRequest
----------------------------------------------------------------------

Lâ€™idÃ©e gÃ©nÃ©rale

Cette classe reprÃ©sente une demande de dispense quâ€™un Ã©tudiant fait Ã  lâ€™Ã©cole.
Câ€™est â€œle dossier completâ€ envoyÃ© par un Ã©tudiant pour demander Ã  ne pas devoir suivre certains cours de sa section.

Chaque objet ExemptionRequest, câ€™est une seule demande, qui contient :

lâ€™Ã©tudiant qui lâ€™a faite,

la section concernÃ©e (ex : Informatique),

son statut (brouillon, envoyÃ©, acceptÃ©, refusÃ©â€¦),

les cours externes que lâ€™Ã©tudiant veut faire valoir,

les documents justificatifs quâ€™il a ajoutÃ©s,

et les liens entre ces cours et les UE de lâ€™ISFCE (les fameux â€œitems de dispenseâ€).

Câ€™est donc le point central du projet : tout tourne autour de cette classe.


ğŸ§© Ligne par ligne

1ï¸âƒ£ @Entity @Table(name = "exemption_request")

On dit Ã  Java : â€œcette classe correspond Ã  une table dans la base de donnÃ©es, appelÃ©e exemption_request.â€
ğŸ‘‰ Chaque demande enregistrÃ©e = une ligne dans cette table.

2ï¸âƒ£ private Etudiant etudiant;

Cette ligne relie la demande Ã  lâ€™Ã©tudiant qui lâ€™a dÃ©posÃ©e.

@ManyToOne : une demande appartient Ã  un seul Ã©tudiant,
mais un Ã©tudiant peut avoir plusieurs demandes (relation â€œplusieurs vers unâ€).

optional = false : impossible dâ€™avoir une demande sans Ã©tudiant (logique).

fetch = FetchType.LAZY : on ne charge pas toutes les infos de lâ€™Ã©tudiant tant quâ€™on nâ€™en a pas besoin (pour gagner du temps).

ğŸ’¡ En clair : câ€™est le propriÃ©taire du dossier.

3ï¸âƒ£ private String section;

Câ€™est la section de lâ€™Ã©tudiant au moment de la demande (ex: Informatique, Gestion, etc.).

@NotBlank et @Column(nullable = false) : il faut que ce champ soit rempli.
On ne veut pas de demande â€œsans sectionâ€.

4ï¸âƒ£ private StatutDemande statut;

Câ€™est le statut actuel de la demande, par exemple :

DRAFT â†’ brouillon

SUBMITTED â†’ envoyÃ©e

IN_REVIEW â†’ en cours dâ€™analyse

ACCEPTED / REFUSED â†’ dÃ©cision prise

@Enumerated(EnumType.STRING) : Ã§a permet de stocker le mot (DRAFT, SUBMITTED, etc.) dans la base, plutÃ´t quâ€™un chiffre.

@Builder.Default : le statut est automatiquement â€œDRAFTâ€ quand la demande est crÃ©Ã©e.

ğŸ’¡ En clair : câ€™est la â€œphaseâ€ du dossier dans le processus administratif.

5ï¸âƒ£ private List<ExternalCourse> externalCourses

Ce sont les cours de lâ€™autre Ã©cole que lâ€™Ã©tudiant veut faire valoir.
(ex : â€œBases de donnÃ©esâ€ suivie Ã  lâ€™UCL, 5 ECTS)

@OneToMany(mappedBy = "request") : une demande peut contenir plusieurs cours externes.

cascade = CascadeType.ALL : si on supprime la demande, tous les cours liÃ©s sont aussi supprimÃ©s.

orphanRemoval = true : si un cours nâ€™est plus rattachÃ© Ã  la demande, il est aussi supprimÃ© (Ã©vite les â€œfantÃ´mesâ€ dans la base).

ğŸ’¡ En clair : les cours dâ€™origine que lâ€™Ã©tudiant fournit comme preuve

6ï¸âƒ£ private List<SupportingDocument> documents

Ce sont les fichiers ajoutÃ©s par lâ€™Ã©tudiant (PDF, relevÃ© de notes, description du coursâ€¦).
MÃªme logique que pour les cours : ils appartiennent Ã  la demande et sont supprimÃ©s avec elle.

ğŸ’¡ En clair : les preuves jointes Ã  la demande.

7ï¸âƒ£ private List<ExemptionItem> items

Ce sont les liens concrets entre un cours externe et une UE ISFCE.
Exemple :

Lâ€™Ã©tudiant veut Ãªtre dispensÃ© de IPDB (Bases de donnÃ©es ISFCE)
grÃ¢ce Ã  son cours externe â€œDatabase Systems (UCL)â€

Chaque ExemptionItem = un â€œcoupleâ€ entre un cours externe et un cours ISFCE.

ğŸ’¡ En clair : câ€™est le dÃ©tail prÃ©cis des demandes de dispense, ligne par ligne.

8ï¸âƒ£ Les â€œhelpersâ€ Ã  la fin

public void addExternalCourse(ExternalCourse c){ c.setRequest(this); externalCourses.add(c); }
public void addDocument(SupportingDocument d){ d.setRequest(this); documents.add(d); }
public void addItem(ExemptionItem i){ i.setRequest(this); items.add(i); }

Ce sont des petites mÃ©thodes pratiques pour ajouter proprement un Ã©lÃ©ment Ã  la liste en gardant le lien correct.
Elles Ã©vitent les oublis : Ã  chaque ajout, on prÃ©cise automatiquement que le cours/document/item appartient Ã  cette demande.

ğŸ’¡ En clair : des â€œraccourcis propresâ€ pour ne pas casser les liens entre objets.

ğŸ” En rÃ©sumÃ©

ğŸ‘‰ Cette classe reprÃ©sente une demande de dispense complÃ¨te.
Elle contient :

Qui fait la demande (etudiant)

Pour quelle section

Son statut

Les cours externes utilisÃ©s

Les documents fournis

Les correspondances entre cours externes et cours ISFCE

Et tout est liÃ© logiquement et automatiquement : si tu supprimes la demande, tout le contenu disparaÃ®t avec (cours, docs, items).

ğŸ§  En image mentale

Imagine un dossier administratif numÃ©rique :

Page 1 : Ã‰tudiant + Section + Statut

Page 2 : Liste de ses cours antÃ©rieurs

Page 3 : Les fichiers quâ€™il joint

Page 4 : Les demandes de dispense cours par cours

â†’ Ce dossier complet, câ€™est exactement ExemptionRequest


----------------------------------------------------------------------

ExternalCourse
----------------------------------------------------------------------

Lâ€™idÃ©e gÃ©nÃ©rale

Chaque objet ExternalCourse reprÃ©sente un seul cours suivi ailleurs.
Exemples :

â€œAlgorithmique et programmationâ€ Ã  lâ€™ULB

â€œBases de donnÃ©esâ€ Ã  la HE2B

ğŸ‘‰ Câ€™est une des â€œpreuvesâ€ dans le dossier de dispense.

ğŸ§© Ligne par ligne

1ï¸âƒ£ @Entity @Table(name = "external_course", indexes = @Index(columnList = "etablissement,code"))

Cette classe correspond Ã  une table â€œexternal_courseâ€ dans la base de donnÃ©es.

Chaque ligne = un cours externe.

Lâ€™index sur (etablissement, code) permet de retrouver rapidement un cours donnÃ© dâ€™un Ã©tablissement prÃ©cis (utile si deux Ã©coles ont un cours avec le mÃªme nom).

ğŸ’¡ En clair : Ã§a amÃ©liore les recherches et garantit une structure propre.

2ï¸âƒ£ private ExemptionRequest request;

Ce champ indique Ã  quelle demande de dispense appartient ce cours externe.

@ManyToOne(optional = false) : un cours externe est toujours rattachÃ© Ã  une seule demande, mais une demande peut en contenir plusieurs.

fetch = FetchType.LAZY : on ne charge pas tout le dossier complet tant quâ€™on nâ€™en a pas besoin.

@ToString.Exclude : juste pour Ã©viter dâ€™afficher tout le contenu du dossier quand on veut afficher le cours (Ã§a Ã©viterait des boucles infinies).

ğŸ’¡ En clair : ce cours fait partie du dossier de dispense de lâ€™Ã©tudiant.

3ï¸âƒ£ private String etablissement;

Câ€™est le nom de lâ€™Ã©cole dâ€™origine du cours.
Exemples : ULB, HE2B, UCL, etc.

@NotBlank et @Column(nullable = false) : ce champ est obligatoire.

ğŸ’¡ En clair : dâ€™oÃ¹ vient le cours.

4ï¸âƒ£ private String code;

Câ€™est le code officiel du cours dans lâ€™autre Ã©cole.
Exemple : INFO1234, BD101, etc.

@NotBlank, @Column(nullable = false, length = 32) : le champ est obligatoire, et limitÃ© Ã  32 caractÃ¨res.

ğŸ’¡ En clair : lâ€™identifiant du cours externe (utile pour les correspondances).


5ï¸âƒ£ private String libelle;

Le nom complet du cours (ex : Introduction aux bases de donnÃ©es).

@NotBlank â†’ il faut que ce soit rempli.

@Column(nullable = false) â†’ obligatoire aussi en base.

ğŸ’¡ En clair : le titre du cours.

6ï¸âƒ£ private int ects;

Le nombre de crÃ©dits ECTS de ce cours externe.

@Min(1) : au moins 1 ECTS (on ne veut pas de cours â€œfantÃ´meâ€).

@Column(nullable = false) : obligatoire.

ğŸ’¡ En clair : le poids acadÃ©mique du cours (utile pour comparer Ã  nos UE ISFCE).

7ï¸âƒ£ private String urlProgramme;

Câ€™est un lien vers la description officielle du cours, souvent un PDF ou une page web sur le site de lâ€™Ã©cole dâ€™origine.
Pas obligatoire, mais trÃ¨s utile pour les enseignants qui vÃ©rifient la correspondance.

ğŸ’¡ En clair : le lien vers la fiche descriptive du cours externe.

ğŸ” En rÃ©sumÃ©

ğŸ‘‰ Cette classe dÃ©crit un cours externe que lâ€™Ã©tudiant veut utiliser pour justifier une dispense.

Elle contient :

+------------------+-----------------------------------------------+
| Champ            | RÃ´le                                          |
+------------------+-----------------------------------------------+
| etablissement    | Nom de lâ€™Ã©cole dâ€™origine                      |
| code             | Code du cours dans cette Ã©cole                 |
| libelle          | Nom du cours                                   |
| ects             | Nombre de crÃ©dits                              |
| urlProgramme     | Lien vers le programme officiel                |
| request          | La demande de dispense Ã  laquelle il appartient|
+------------------+-----------------------------------------------+


ğŸ§  En image mentale

Imagine que lâ€™Ã©tudiant dit :

â€œJâ€™ai dÃ©jÃ  suivi Algorithmique Ã  lâ€™ULB, voici le lien vers le programme, et Ã§a valait 5 crÃ©dits.â€

Cette dÃ©claration devient un ExternalCourse dans son dossier de dispense (ExemptionRequest).
Sâ€™il a suivi trois cours dans son ancienne Ã©cole, il aura trois objets ExternalCourse liÃ©s Ã  sa demande.

ğŸ’¡ En rÃ©sumÃ© simple

But : reprÃ©senter un cours suivi ailleurs.

UtilitÃ© : sert de preuve de connaissance dans le dossier de dispense.

Contenu : Ã©cole, code, libellÃ©, crÃ©dits, lien.

Relation : fait partie dâ€™une demande complÃ¨te (ExemptionRequest).

En gros :
â¡ï¸ ExemptionRequest = le dossier complet,
â¡ï¸ ExternalCourse = chaque cours externe citÃ© dans ce dossier.


----------------------------------------------------------------------

SupportingDocument
----------------------------------------------------------------------

Lâ€™idÃ©e gÃ©nÃ©rale

Chaque objet SupportingDocument reprÃ©sente un fichier ou une piÃ¨ce jointe que lâ€™Ã©tudiant ajoute dans son dossier de dispense.
Exemples :

un relevÃ© de notes,

un syllabus ou programme de cours,

une attestation officielle de rÃ©ussite,

ou tout autre document qui appuie sa demande.

ğŸ‘‰ En gros, ce sont les preuves que lâ€™Ã©tudiant dÃ©pose pour montrer quâ€™il mÃ©rite la dispense.


ğŸ§© Ligne par ligne

1ï¸âƒ£ @Entity @Table(name = "supporting_document")

Cette classe correspond Ã  une table â€œsupporting_documentâ€ dans la base de donnÃ©es.
Chaque ligne = un document ajoutÃ© dans une demande.

ğŸ’¡ En clair : câ€™est la â€œliste des fichiers dÃ©posÃ©sâ€ par les Ã©tudiants.


2ï¸âƒ£ private ExemptionRequest request;

Ce champ relie le document Ã  la demande de dispense Ã  laquelle il appartient.

@ManyToOne(optional = false) :
â†’ chaque document appartient Ã  une seule demande,
â†’ mais une demande peut avoir plusieurs documents.

fetch = FetchType.LAZY : on ne charge pas tout le dossier tant quâ€™on ne consulte pas le document.

@ToString.Exclude : pour Ã©viter dâ€™afficher tout le contenu du dossier quand on affiche un document (utile pour les logs et Ã©viter les boucles infinies).

ğŸ’¡ En clair : ce fichier fait partie dâ€™un dossier prÃ©cis.


3ï¸âƒ£ private TypeDocument type;

Câ€™est le type de document, reprÃ©sentÃ© par une liste prÃ©dÃ©finie (une Ã©numÃ©ration).
Par exemple, le TypeDocument pourrait contenir :

SYLLABUS â†’ la description du cours,

RELEVE_NOTES â†’ le relevÃ© de notes,

ATTESTATION â†’ une preuve officielle,

AUTRE â†’ tout autre document.

@Enumerated(EnumType.STRING) : on stocke le type sous forme de texte clair (â€œSYLLABUSâ€) plutÃ´t quâ€™un chiffre.

@Column(nullable = false) : le type est obligatoire.

ğŸ’¡ En clair : Ã§a indique la nature du document.


4ï¸âƒ£ private String urlStockage;

Câ€™est le chemin oÃ¹ le document est enregistrÃ© (dans le serveur, ou un lien vers le cloud).

@NotBlank : on ne veut pas de lien vide.

@Column(nullable = false) : champ obligatoire.

ğŸ’¡ En clair : câ€™est lâ€™adresse du fichier pour pouvoir le retrouver ou le tÃ©lÃ©charger.


ğŸ” En rÃ©sumÃ©

ğŸ‘‰ Cette classe dÃ©crit un document liÃ© Ã  une demande de dispense.

+------------+-----------------------------------------------------------+
| Champ      | RÃ´le                                                      |
+------------+-----------------------------------------------------------+
| request    | Indique Ã  quelle demande le document appartient           |
| type       | Type de document (relevÃ©, syllabus, attestation...)       |
| urlStockage| Lien/chemin du fichier stockÃ©                             |
+------------+-----------------------------------------------------------+


ğŸ§  En image mentale

Imagine que lâ€™Ã©tudiant dÃ©pose une demande dans le portail :

Il remplit ses infos.

Il ajoute un relevÃ© de notes en PDF.

Puis un syllabus de son ancien cours.

RÃ©sultat :

Sa demande (ExemptionRequest) contient 2 objets SupportingDocument,
â†’ un de type RELEVE_NOTES
â†’ un de type SYLLABUS,
chacun avec son lien de stockage vers le fichier correspondant.


ğŸ’¡ En rÃ©sumÃ© simple

But : reprÃ©senter un document justificatif liÃ© Ã  une demande.

UtilitÃ© : prouver que le cours externe mÃ©rite la dispense.

Contenu : le type de document et son chemin de stockage.

Relation : appartient toujours Ã  une demande complÃ¨te (ExemptionRequest).


ğŸ‘‰ En gros :

ExemptionRequest = le dossier complet,

ExternalCourse = les cours externes,

SupportingDocument = les preuves dÃ©posÃ©es pour appuyer la demande.


----------------------------------------------------------------------

ExemptionItem
----------------------------------------------------------------------

Lâ€™idÃ©e gÃ©nÃ©rale

Chaque objet ExemptionItem reprÃ©sente une demande de dispense pour une UE prÃ©cise de lâ€™ISFCE.

Autrement dit :

â€œJe veux Ãªtre dispensÃ© de IPDB â€“ Introduction aux bases de donnÃ©es (ISFCE)
grÃ¢ce Ã  mon cours Database Systems (UCL).â€

ğŸ‘‰ Cet objet dÃ©crit ce lien concret entre :

la demande complÃ¨te (ExemptionRequest),

le cours ISFCE concernÃ© (UEIsfce),

et les dÃ©cisions / informations associÃ©es (est-ce que les crÃ©dits correspondent ? est-ce que la dispense est accordÃ©e ? quelle note ?).

Câ€™est la â€œfiche ligne par ligneâ€ dâ€™une demande.


ğŸ§± Ligne par ligne

1ï¸âƒ£ @Entity @Table(name = "exemption_item")

Cette classe correspond Ã  la table exemption_item dans la base de donnÃ©es.
Chaque ligne = une demande de dispense pour un cours ISFCE prÃ©cis.

ğŸ’¡ En clair : câ€™est le dÃ©tail individuel du dossier.


2ï¸âƒ£ private ExemptionRequest request;

Câ€™est la demande principale Ã  laquelle appartient cet item.

@ManyToOne(optional = false) : un item appartient toujours Ã  une seule demande.

fetch = FetchType.LAZY : on charge les infos de la demande seulement si nÃ©cessaire.

@ToString.Exclude : Ã©vite les boucles infinies quand on affiche lâ€™objet.

ğŸ’¡ En clair : ce petit item fait partie dâ€™un grand dossier de dispense.


3ï¸âƒ£ private UEIsfce ue;

Câ€™est le cours ISFCE pour lequel lâ€™Ã©tudiant demande la dispense.

@ManyToOne(optional = false) : chaque item concerne une seule UE.

fetch = FetchType.EAGER : ici, on charge directement les infos du cours ISFCE, car elles sont souvent nÃ©cessaires Ã  lâ€™affichage ou Ã  la dÃ©cision.

ğŸ’¡ En clair : le cours de lâ€™ISFCE visÃ© par la dispense.

Exemple :
UE = IPDB â€“ Introduction aux bases de donnÃ©es


4ï¸âƒ£ private boolean totalEctsMatches;

Ce champ indique si le nombre total de crÃ©dits ECTS des cours externes utilisÃ©s correspond Ã  celui de lâ€™UE ISFCE visÃ©e.

@Builder.Default = false â†’ par dÃ©faut, on part du principe que Ã§a ne correspond pas encore.

@Column(nullable = false) : obligatoire.

ğŸ’¡ En clair : câ€™est un petit indicateur automatique pour dire si les crÃ©dits sont â€œÃ©quivalentsâ€.

Exemple :
UE ISFCE = 5 ECTS
Cours externes fournis = 5 ECTS â†’ âœ… totalEctsMatches = true


5ï¸âƒ£ private DecisionItem decision;

Câ€™est la dÃ©cision administrative concernant cette demande de dispense prÃ©cise.

@Enumerated(EnumType.STRING) : stocke le mot (â€œPENDINGâ€, â€œACCEPTEDâ€, â€œREFUSEDâ€, etc.) au lieu dâ€™un chiffre.

@Builder.Default : par dÃ©faut, chaque demande est marquÃ©e comme PENDING (en attente).

@Column(nullable = false) : obligatoire.

ğŸ’¡ En clair : câ€™est le verdict pour cette UE.

Exemples :

PENDING â†’ en attente dâ€™Ã©valuation

ACCEPTED â†’ dispense accordÃ©e

REFUSED â†’ refusÃ©e


6ï¸âƒ£ private Integer noteSur20;

Câ€™est la note attribuÃ©e sur 20, si une note doit Ãªtre reportÃ©e (dans certains cas de dispense partielle ou dâ€™Ã©quivalence notÃ©e).

Integer (et pas int) pour quâ€™il puisse Ãªtre vide (null) si la note nâ€™est pas applicable.

ğŸ’¡ En clair : câ€™est la note associÃ©e Ã  la dispense, si lâ€™Ã©cole en met une.


ğŸ” En rÃ©sumÃ©

ğŸ‘‰ Cette classe reprÃ©sente une â€œligne de dÃ©cisionâ€ dans la demande de dispense.

+-------------------+-----------------------------------------------------------+
| Champ             | RÃ´le                                                      |
+-------------------+-----------------------------------------------------------+
| request           | Le dossier complet auquel cette ligne appartient          |
| ue                | Lâ€™UE ISFCE pour laquelle la dispense est demandÃ©e         |
| totalEctsMatches  | Est-ce que les crÃ©dits externes couvrent bien lâ€™UE ?      |
| decision          | DÃ©cision finale : en attente, acceptÃ©e, refusÃ©e           |
| noteSur20         | Note Ã©ventuelle si Ã©quivalence notÃ©e                      |
+-------------------+-----------------------------------------------------------+


ğŸ§  En image mentale

Imagine que lâ€™Ã©tudiant a une demande avec 3 cours ISFCE pour lesquels il veut des dispenses.
Sa ExemptionRequest contiendra donc 3 ExemptionItem :

IPDB â€“ Bases de donnÃ©es â†’ en attente

PROG1 â€“ Programmation 1 â†’ acceptÃ©e

MATH1 â€“ MathÃ©matiques â†’ refusÃ©e

Chaque item est une ligne du tableau des dÃ©cisions.


ğŸ’¡ En rÃ©sumÃ© simple

But : reprÃ©senter une demande de dispense pour un cours prÃ©cis.

UtilitÃ© : suivre la dÃ©cision et les comparaisons de crÃ©dits.

Contenu : le cours visÃ©, lâ€™Ã©tat de la dÃ©cision, si les crÃ©dits correspondent, et la note Ã©ventuelle.

Relation : fait partie dâ€™un dossier global (ExemptionRequest).


ğŸ‘‰ En rÃ©sumÃ© visuel :

ExemptionRequest = le dossier complet

ExternalCourse = les cours externes utilisÃ©s comme preuves

SupportingDocument = les fichiers joints

ExemptionItem = les demandes de dispense cours par cours

UEIsfce = les cours officiels ISFCE visÃ©s par ces demandes


----------------------------------------------------------------------

SECTION : Repositories
----------------------------------------------------------------------

Dâ€™abord, câ€™est quoi un â€œrepositoryâ€ ?

Un Repository, câ€™est une porte dâ€™entrÃ©e vers la base de donnÃ©es.
Câ€™est lÃ  que tu vas :

enregistrer un objet (ex: un Ã©tudiant),

chercher des donnÃ©es (ex: toutes les demandes dâ€™un Ã©tudiant),

supprimer ou mettre Ã  jour des lignes, etc.

ğŸ‘‰ En gros, câ€™est lâ€™intermÃ©diaire entre ton code mÃ©tier (les classes domain) et la base SQL.

Et grÃ¢ce Ã  Spring Data JPA, tu nâ€™as mÃªme pas besoin dâ€™Ã©crire de requÃªtes :
Spring le fait pour toi automatiquement.


ğŸ“ Le package be.isfce.dispenses.repository

Ce package contient une interface par type dâ€™objet Ã  sauvegarder ou Ã  lire.
Chaque interface hÃ©rite de JpaRepository, qui donne toutes les fonctions de base.

1ï¸âƒ£ EtudiantRepository

public interface EtudiantRepository extends JpaRepository<Etudiant, UUID> {
   Optional<Etudiant> findByEmail(String email);
}

ğŸ’¡ Sert Ã  gÃ©rer les Ã©tudiants.

JpaRepository<Etudiant, UUID> â†’ gÃ¨re les enregistrements dâ€™Ã©tudiants identifiÃ©s par un UUID.

La mÃ©thode findByEmail() est une recherche personnalisÃ©e, que Spring comprend tout seul :
â†’ il va gÃ©nÃ©rer une requÃªte du style
SELECT * FROM etudiant WHERE email = ?.

ğŸ‘‰ Exemple dâ€™usage :

Le systÃ¨me veut vÃ©rifier si un Ã©tudiant existe dÃ©jÃ  avant de crÃ©er un compte.


2ï¸âƒ£ UEIsfceRepository

public interface UEIsfceRepository extends JpaRepository<UEIsfce, UUID> {
   Optional<UEIsfce> findByCode(String code);
}

ğŸ’¡ Sert Ã  chercher une UE ISFCE via son code (ex: â€œIPDBâ€).
MÃªme logique : Spring gÃ©nÃ¨re tout seul la requÃªte.
TrÃ¨s pratique quand on compare un cours externe Ã  une UE ISFCE.


3ï¸âƒ£ ExemptionRequestRepository

public interface ExemptionRequestRepository extends JpaRepository<ExemptionRequest, UUID> {
   List<ExemptionRequest> findByEtudiantIdOrderByCreatedAtDesc(UUID etudiantId);
}

ğŸ’¡ Sert Ã  rÃ©cupÃ©rer toutes les demandes dâ€™un Ã©tudiant,
triÃ©es par date de crÃ©ation dÃ©croissante (de la plus rÃ©cente Ã  la plus ancienne).
Encore une fois, Spring comprend tout seul la logique grÃ¢ce au nom de la mÃ©thode.

ğŸ‘‰ Exemple : quand un Ã©tudiant se connecte Ã  son espace,
le systÃ¨me affiche toutes ses demandes avec les plus rÃ©centes en premier.


4ï¸âƒ£ ExternalCourseRepository

public interface ExternalCourseRepository extends JpaRepository<ExternalCourse, UUID> { }

ğŸ’¡ Rien de spÃ©cial ici, juste les fonctions de base :

sauvegarder un cours externe,

le supprimer,

le retrouver par son identifiant.


5ï¸âƒ£ SupportingDocumentRepository

public interface SupportingDocumentRepository extends JpaRepository<SupportingDocument, UUID> { }

ğŸ’¡ GÃ¨re les documents (fichiers).
MÃªme chose : pas de mÃ©thode spÃ©cifique pour lâ€™instant.


6ï¸âƒ£ ExemptionItemRepository

public interface ExemptionItemRepository extends JpaRepository<ExemptionItem, UUID> { }

ğŸ’¡ Sert Ã  gÃ©rer chaque item de dispense (chaque â€œligneâ€ de dÃ©cision).


ğŸ§  Pourquoi cette structure ?

Lâ€™idÃ©e est de garder une interface claire et isolÃ©e pour chaque type dâ€™objet.
Avantages :

âœ… LisibilitÃ© : on sait tout de suite oÃ¹ trouver le code qui gÃ¨re les donnÃ©es dâ€™un type donnÃ© (ex: les UE â†’ UEIsfceRepository).

âœ… Ã‰volutivitÃ© : si demain tu veux ajouter une recherche spÃ©cifique (ex: â€œtoutes les demandes en attenteâ€), tu lâ€™ajoutes uniquement dans le bon Repository.

âœ… Organisation claire : câ€™est une bonne pratique standard dans les projets Spring Boot.

En rÃ©sumÃ© :
chaque classe du package domain a son repository dÃ©diÃ© dans repository.


ğŸ§± Et le projet Thymeleaf avec le package dao, câ€™est quoi la diffÃ©rence ?

Dans ton projet Thymeleaf, tu as quelque chose comme :

package org.isfce.pid.dao;

import org.isfce.pid.model.Cours;
import org.springframework.data.jpa.repository.JpaRepository;

public interface ICoursJpaDao extends JpaRepository<Cours, String>{ }

ğŸ‘‰ Oui, câ€™est la mÃªme logique.
La seule diffÃ©rence, câ€™est le nom du package et le style de nommage.

+--------------------------+--------------------+
| Ton projet API           | Projet Thymeleaf   |
+--------------------------+--------------------+
| repository               | dao                |
| UEIsfceRepository        | ICoursJpaDao       |
| JpaRepository<UEIsfce, UUID> | JpaRepository<Cours, String> |
+--------------------------+--------------------+

Donc :

Les deux font exactement la mÃªme chose : ils servent Ã  interagir avec la base via JPA.

DAO (Data Access Object) est le terme plus ancien / gÃ©nÃ©rique.

Repository est le terme moderne, prÃ©fÃ©rÃ© dans les projets Spring rÃ©cents (et plus clair dans une logique DDD â€“ Domain Driven Design).

ğŸ’¬ En rÃ©sumÃ© :

â€œDAOâ€ et â€œRepositoryâ€ dÃ©signent la mÃªme idÃ©e,
mais â€œRepositoryâ€ est aujourdâ€™hui la convention la plus utilisÃ©e et plus cohÃ©rente avec Spring Data.


ğŸ§© Pourquoi toi, tu as plusieurs repositories alors que le projet Thymeleaf nâ€™en a quâ€™un ?

Parce que dans le projet Thymeleaf, il nâ€™y a quâ€™une seule entitÃ© importante : Cours.
Ici, ton application de dispenses a plusieurs types dâ€™objets (Ã©tudiant, UE, demande, document, etc.),
donc on crÃ©e un repository pour chacun.

Câ€™est plus structurÃ©, plus Ã©volutif, et plus professionnel.


âœ… En rÃ©sumÃ© simple

+------------------------+----------------------------------------------+----------------------------+
| Ce que câ€™est           | RÃ´le                                         | Exemple                    |
+------------------------+----------------------------------------------+----------------------------+
| Repository             | Sert Ã  lire et enregistrer des objets en base| EtudiantRepository         |
| JpaRepository          | Fournit toutes les fonctions CRUD de base    | .save(), .findAll(), .deleteById() |
| MÃ©thodes personnalisÃ©es| GÃ©nÃ¨rent automatiquement des requÃªtes SQL    | findByEmail(), findByCode() |
| DiffÃ©rence avec DAO    | Câ€™est juste une question de vocabulaire      | DAO = ancien terme,        |
|                        | moderne                                      | Repository = actuel        |
+------------------------+----------------------------------------------+----------------------------+


ğŸ’¡ En clair :

Le projet Thymeleaf â†’ petit projet, 1 seule entitÃ©, 1 DAO.

Ton projet Dispenses â†’ appli plus complexe â†’ 1 Repository par entitÃ©.

Les deux font exactement la mÃªme chose, mais ta version est plus propre et mieux organisÃ©e pour un vrai projet complet.


----------------------------------------------------------------------
FIN DU DOCUMENT â€“ COLLER DANS WORD ET RÃ‰GLER LA POLICE Ã€ 8 PT
----------------------------------------------------------------------
